// Bootstrap post-compilation overrides
// These are imported AFTER Bootstrap components are compiled
// Use for overriding specific Bootstrap component styles

@import 'bootstrap-variables';

// Bootstrap modal customization (migrated from styles.scss)
.modal-body {
    /* break up long text */
    overflow-wrap: normal;
    hyphens: auto;
    word-break: break-word;
}

// Dark dropdown theme (for file options dropdowns)
// Uses CSS variables so components only need data-bs-theme="dark" attribute
[data-bs-theme="dark"] {
  .dropdown-menu {
    // Background and border
    --bs-dropdown-bg: #{$primary-color};
    --bs-dropdown-border-color: #{$primary-dark-color};
    --bs-dropdown-box-shadow: 0 0.25rem 0.5rem rgba(0, 0, 0, 0.3);

    // Item colors
    --bs-dropdown-link-color: white;
    --bs-dropdown-link-hover-color: white;
    --bs-dropdown-link-hover-bg: #{$secondary-dark-color};
    --bs-dropdown-link-active-color: white;
    --bs-dropdown-link-active-bg: #{$secondary-dark-color};
    --bs-dropdown-link-disabled-color: rgba(white, 0.65);
  }

  // Toggle button pressed/open state
  .dropdown-toggle.show {
    background-color: $secondary-dark-color;
    border-color: $secondary-darker-color;
  }
}

// Dropdown fade animation (~150ms per user decision)
.dropdown-menu {
  opacity: 0;
  transition: opacity 0.15s ease-in-out;
}

.dropdown-menu.show {
  opacity: 1;
}

// Dropdown item hover transition (~100ms per user decision)
.dropdown-item {
  transition: background-color 0.1s ease-in-out;
}

// ============================================================================
// Dark Theme Form Styling
// ============================================================================
// Ensures form inputs are visible and styled appropriately for dark backgrounds

.form-control {
  // Dark theme appearance
  background-color: #212529;               // Slightly lighter than page background
  color: #dee2e6;                          // Light text for readability
  border-color: #495057;                   // Visible border definition

  // Placeholder text (appropriate contrast for dark theme)
  &::placeholder {
    color: rgba(255, 255, 255, 0.5);       // 50% white for sufficient contrast
  }

  // Focus state (teal ring from variable cascade)
  &:focus {
    background-color: #212529;             // Maintain dark background on focus
    color: #dee2e6;                        // Maintain light text
    // border-color and box-shadow are set by Bootstrap via $component-active-bg
  }

  // Disabled state
  &:disabled {
    background-color: #1a1a1a;             // Darker than normal
    opacity: 0.65;                         // Reduced opacity
  }
}

// Checkbox dark theme styling
.form-check-input {
  background-color: #212529;               // Dark background for unchecked
  border-color: #495057;                   // Visible border

  // Checked state uses teal from $component-active-bg automatically

  // Focus state (teal ring)
  &:focus {
    border-color: tint-color($secondary, 50%);  // Light teal border
    // box-shadow is set by Bootstrap via focus ring variables
  }

  // Disabled state
  &:disabled {
    opacity: 0.5;                          // Matches $form-check-input-disabled-opacity
  }
}
