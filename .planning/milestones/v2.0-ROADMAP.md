# v2.0 Dark Mode & Polish - Roadmap

**Status:** Active
**Phases:** 29-32 (4 phases)
**Depth:** Standard
**Coverage:** 15/15 requirements mapped

## Milestone Goal

Add a true dark/light theme system with OS preference detection, manual toggle in Settings, and fix cosmetic issues from the *arr integration work.

## Phase Details

### Phase 29: Theme Infrastructure
**Goal**: App detects and applies theme preference with no flash on page load
**Depends on**: Phase 28 (v1.8 complete)
**Requirements**: THEME-01, THEME-02, THEME-03, THEME-04, THEME-05, THEME-06
**Success Criteria** (what must be TRUE):
  1. User sees no flash of wrong theme when page loads (FOUC prevented)
  2. App detects OS color scheme preference and applies matching theme
  3. User can manually change theme in console (themeService.setTheme('dark')) and see immediate update
  4. Theme preference persists across page refreshes (localStorage)
  5. Opening second browser tab shows same theme as first tab
  6. Changing theme in one tab updates theme in all other open tabs within 200ms
**Plans**: 0

### Phase 30: SCSS Audit & Color Fixes
**Goal**: All colors adapt correctly to light and dark themes
**Depends on**: Phase 29
**Requirements**: STYLE-01, STYLE-02, STYLE-03, STYLE-04
**Success Criteria** (what must be TRUE):
  1. All hardcoded hex colors in SCSS are replaced with theme-aware variables
  2. Form inputs show light background in light mode and dark background in dark mode
  3. Teal accent colors meet WCAG AA contrast ratio in both themes (4.5:1 for text, 3:1 for UI)
  4. Dropdown menus respect global theme setting (no hardcoded data-bs-theme attributes)
  5. All pages (Files, Settings, About, Logs) are readable in both themes
**Plans**: 0

### Phase 31: Theme Toggle UI
**Goal**: User can select theme mode (light/dark/auto) in Settings page
**Depends on**: Phase 30
**Requirements**: UI-01, UI-02
**Success Criteria** (what must be TRUE):
  1. User can select between Light, Dark, and Auto modes in Settings > Appearance section
  2. Selecting "Auto" makes theme follow OS preference (respects prefers-color-scheme)
  3. Selecting "Light" forces light theme regardless of OS preference
  4. Selecting "Dark" forces dark theme regardless of OS preference
  5. Settings page shows current active theme mode with visual indicator (sun/moon/auto icon)
**Plans**: 0

### Phase 32: Cosmetic Fixes
**Goal**: *arr integration text references both Sonarr and Radarr
**Depends on**: Phase 29 (independent, but ordered last for parallel work)
**Requirements**: COSM-01, COSM-02, COSM-03
**Success Criteria** (what must be TRUE):
  1. Toast notifications say "Sonarr/Radarr imported" instead of just "Sonarr imported"
  2. Auto-delete description in Settings references both Sonarr and Radarr
  3. WAITING_FOR_IMPORT enum value is added to file status (backend + frontend)
**Plans**: 0

## Progress

| Phase | Plans Complete | Status | Completed |
|-------|----------------|--------|-----------|
| 29. Theme Infrastructure | 0/0 | Pending | — |
| 30. SCSS Audit & Color Fixes | 0/0 | Pending | — |
| 31. Theme Toggle UI | 0/0 | Pending | — |
| 32. Cosmetic Fixes | 0/0 | Pending | — |

---
*Created: 2026-02-11*
*Next: /gsd:plan-phase 29*
