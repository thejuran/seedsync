# v1.4 Roadmap: Sass @use Migration

## Goal

Migrate all SCSS files from deprecated @import to modern @use/@forward module system, proactively preparing for Dart Sass 3.0.

## Phases

### Phase 12: Shared Module Migration

**Goal:** Transform `_common.scss` and `_bootstrap-overrides.scss` from @import to @use/@forward.

**What it builds:**
- `_common.scss` becomes a `@forward` aggregation module re-exporting Bootstrap variables
- `_bootstrap-overrides.scss` uses `@use` with explicit namespace for variable access
- `_bootstrap-variables.scss` remains unchanged (already a pure variable module)

**Addresses:** REQ-01, REQ-02, REQ-07

**Key constraints:**
- `@forward` must come before all other rules
- Bootstrap functions (shade-color, tint-color) may need @import fallback — test during execution
- Component files already use `@use '../../common/common' as *` — must preserve this API

**Files modified:**
- `src/angular/src/app/common/_common.scss`
- `src/angular/src/app/common/_bootstrap-overrides.scss`

**Estimated plans:** 1

---

### Phase 13: Styles Entry Point

**Goal:** Update `styles.scss` to use @use for application modules while keeping @import for Bootstrap.

**What it builds:**
- Hybrid `styles.scss`: @import for Bootstrap core (required), @use for app modules
- Clear separation between legacy Bootstrap loading and modern app module loading

**Addresses:** REQ-03, REQ-04, REQ-08

**Key constraints:**
- Bootstrap 5.3 must remain on @import (uses @import internally)
- Variable override timing must be preserved (overrides before Bootstrap variables)
- Never mix @use and @import for the same module

**Files modified:**
- `src/angular/src/styles.scss`

**Estimated plans:** 1

---

### Phase 14: Validation

**Goal:** Verify zero visual regressions, all tests passing, and zero application deprecation warnings.

**What it builds:**
- Confirmed all 381+ unit tests pass
- Visual comparison at desktop and tablet widths
- Zero application SCSS deprecation warnings in build output
- Bootstrap warnings documented as accepted external noise

**Addresses:** REQ-04, REQ-05, REQ-06, REQ-07, REQ-09

**Files modified:** None (validation only)

**Estimated plans:** 1

---

## Phase Dependencies

```
Phase 12 (shared modules) → Phase 13 (styles entry) → Phase 14 (validation)
```

Sequential dependency: Each phase builds on the previous. Shared modules must be transformed before styles.scss can reference them with @use. Validation runs after all changes are complete.

## Success Criteria

1. `ng build` completes with zero application SCSS deprecation warnings
2. Bootstrap deprecation warnings accepted as external dependency noise
3. All unit tests pass
4. Visual rendering identical at desktop (1920px) and tablet (768px) widths
5. No component files needed changes (already using @use)

---
*Created: 2026-02-07*
*Milestone: v1.4 Sass @use Migration*
