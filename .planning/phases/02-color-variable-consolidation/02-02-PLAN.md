---
phase: 02-color-variable-consolidation
plan: 02
type: execute
wave: 2
depends_on: ["02-01"]
files_modified:
  - src/angular/src/app/pages/autoqueue/autoqueue-page.component.scss
  - src/angular/src/app/pages/logs/logs-page.component.scss
  - src/angular/src/app/pages/settings/option.component.scss
  - src/angular/src/app/pages/files/file-list.component.scss
autonomous: true

must_haves:
  truths:
    - "AutoQueue page remove buttons use $danger variable (not red/darkred)"
    - "AutoQueue page add button uses $success variable (not green/darkgreen)"
    - "Logs page warning/error states use Bootstrap subtle variables"
    - "Option component error state uses Bootstrap danger subtle variables"
    - "File list header uses named colors (black/white) instead of hex"
    - "Zero hardcoded hex colors remain in these component SCSS files"
  artifacts:
    - path: "src/angular/src/app/pages/autoqueue/autoqueue-page.component.scss"
      provides: "Status buttons with Bootstrap semantic colors"
      contains: "$danger"
    - path: "src/angular/src/app/pages/logs/logs-page.component.scss"
      provides: "Log level styling with Bootstrap alert colors"
      contains: "$warning-text-emphasis"
    - path: "src/angular/src/app/pages/settings/option.component.scss"
      provides: "Error state with Bootstrap danger colors"
      contains: "$danger-bg-subtle"
    - path: "src/angular/src/app/pages/files/file-list.component.scss"
      provides: "Header with named colors"
      contains: "background-color: black"
  key_links:
    - from: "component SCSS files"
      to: "Bootstrap variables"
      via: "@use directive importing common"
      pattern: "\\$danger|\\$success|\\$warning"
---

<objective>
Migrate all hardcoded hex colors in component SCSS files to Bootstrap theme variables.

Purpose: Complete the color variable consolidation by replacing all hardcoded colors with Bootstrap semantic variables, achieving zero hardcoded hex colors in component files.

Output: Four component SCSS files updated to use Bootstrap variables for all colors.
</objective>

<execution_context>
@/Users/julianamacbook/.claude/get-shit-done/workflows/execute-plan.md
@/Users/julianamacbook/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-color-variable-consolidation/02-RESEARCH.md
@.planning/phases/02-color-variable-consolidation/02-01-SUMMARY.md
@src/angular/src/app/common/_bootstrap-variables.scss
@src/angular/src/app/common/_common.scss
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate AutoQueue page to Bootstrap semantic colors</name>
  <files>src/angular/src/app/pages/autoqueue/autoqueue-page.component.scss</files>
  <action>
Update autoqueue-page.component.scss to replace hardcoded color names with Bootstrap variables.

Add imports at the top (after existing @use):
```scss
@use 'sass:color';
@use '../../../../node_modules/bootstrap/scss/functions' as bs;
@use '../../common/bootstrap-variables' as *;
```

Replace colors:
1. `.pattern .button` (remove button - semantic: danger):
   - `background-color: red` -> `background-color: $danger`
   - `border-color: darkred` -> `border-color: bs.shade-color($danger, 20%)`
   - `&:active background-color: darkred` -> `background-color: bs.shade-color($danger, 20%)`
   - `&[disabled] background-color: red` -> `background-color: $danger`

2. `#add-pattern .button` (add button - semantic: success):
   - `background-color: green` -> `background-color: $success`
   - `border-color: darkgreen` -> `border-color: bs.shade-color($success, 20%)`
   - `&:active background-color: darkgreen` -> `background-color: bs.shade-color($success, 20%)`
   - `&[disabled] background-color: green` -> `background-color: $success`
  </action>
  <verify>
Run `cd /Users/julianamacbook/seedsync/src/angular && npm run build` - build succeeds.
Run `grep -E 'red|green|darkred|darkgreen' src/app/pages/autoqueue/autoqueue-page.component.scss` - should return no results.
  </verify>
  <done>
AutoQueue component uses $danger for remove buttons and $success for add buttons with no hardcoded color names.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate Logs page to Bootstrap alert variables</name>
  <files>src/angular/src/app/pages/logs/logs-page.component.scss</files>
  <action>
Update logs-page.component.scss to replace hardcoded Bootstrap 4 alert colors with Bootstrap 5.3 semantic variables.

Add imports at the top (after existing @use):
```scss
@use '../../common/bootstrap-variables' as *;
```

Replace colors:
1. `.status-message`:
   - `color: #666` -> `color: $secondary` (or use Bootstrap's $text-muted if available, but $secondary works)

2. `p.record.debug`:
   - `color: darkgray` -> Keep as `darkgray` (neutral color, acceptable as named color)

3. `p.record.info`:
   - `color: black` -> Keep as `black` (neutral color, acceptable as named color)

4. `p.record.warning` (replace Bootstrap 4 alert-warning colors):
   - `color: #8a6d3b` -> `color: $warning-text-emphasis`
   - `background-color: #fcf8e3` -> `background-color: $warning-bg-subtle`
   - `border-color: #faebcc` -> `border-color: $warning-border-subtle`

5. `p.record.error, p.record.critical` (replace Bootstrap 4 alert-danger colors):
   - `color: #a94442` -> `color: $danger-text-emphasis`
   - `background-color: #f2dede` -> `background-color: $danger-bg-subtle`
   - `border-color: #ebccd1` -> `border-color: $danger-border-subtle`

6. `.connected`:
   - `border-bottom: 1px solid #e3e3e3` -> `border-bottom: 1px solid $gray-300` (Bootstrap variable)
   - `background-color: #f5f5f5` -> `background-color: $gray-100` (Bootstrap variable)

Remove the comments "// copied from bootstrap alert-warning" and "// copied from bootstrap alert-danger" since we're now using the actual Bootstrap variables.
  </action>
  <verify>
Run `cd /Users/julianamacbook/seedsync/src/angular && npm run build` - build succeeds.
Run `grep -E '#[0-9a-fA-F]{3,6}' src/app/pages/logs/logs-page.component.scss` - should return no results (no hex colors).
  </verify>
  <done>
Logs component uses Bootstrap semantic variables for warning/error states, no hardcoded hex colors.
  </done>
</task>

<task type="auto">
  <name>Task 3: Migrate Option and File List components</name>
  <files>
src/angular/src/app/pages/settings/option.component.scss
src/angular/src/app/pages/files/file-list.component.scss
  </files>
  <action>
Update both component files to remove hardcoded hex colors.

**option.component.scss:**

Add import (after existing @use):
```scss
@use '../../common/bootstrap-variables' as *;
```

Replace colors:
1. `.error` (replace Bootstrap 4 alert-danger colors):
   - `background-color: #f2dede` -> `background-color: $danger-bg-subtle`
   - `color: #a94442` -> `color: $danger-text-emphasis`
   - `border: 1px solid #a94442` -> `border: 1px solid $danger-border-subtle`

2. `span.description`:
   - `color: darkgrey` -> Keep as `darkgrey` (neutral descriptive color, acceptable as named color)

**file-list.component.scss:**

Add import (after existing @use):
```scss
@use '../../common/bootstrap-variables' as *;
```

Replace colors:
1. `.bulk-progress-overlay`:
   - `background: rgba(255, 255, 255, 0.8)` -> `background: rgba(white, 0.8)` (using named color in rgba is valid SCSS)

2. `.progress-text`:
   - `color: #333` -> `color: $gray-800` (Bootstrap variable for dark gray text)

3. `#header div`:
   - `color: #fff` -> `color: white`
   - `background-color: #000` -> `background-color: black`

Note: Using `white` and `black` as named colors is acceptable for true white/black values per RESEARCH.md guidance.
  </action>
  <verify>
Run `cd /Users/julianamacbook/seedsync/src/angular && npm run build && npm test` - build and all 387 tests pass.
Run `grep -E '#[0-9a-fA-F]{3,6}' src/app/pages/settings/option.component.scss src/app/pages/files/file-list.component.scss` - should return no results.
  </verify>
  <done>
Option and File List components use Bootstrap variables, no hardcoded hex colors remain.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds without SCSS compilation errors
2. `npm test` runs all 387 unit tests with 0 failures
3. No hardcoded hex colors in any of the four component files:
   ```bash
   grep -rE '#[0-9a-fA-F]{3,6}' src/app/pages/autoqueue/autoqueue-page.component.scss \
     src/app/pages/logs/logs-page.component.scss \
     src/app/pages/settings/option.component.scss \
     src/app/pages/files/file-list.component.scss
   ```
   Should return no results.
4. No hardcoded color names (red, green, darkred, darkgreen) in autoqueue component:
   ```bash
   grep -E '\b(red|green|darkred|darkgreen)\b' src/app/pages/autoqueue/autoqueue-page.component.scss
   ```
   Should return no results.
</verification>

<success_criteria>
- AutoQueue remove buttons use $danger variable
- AutoQueue add button uses $success variable
- Logs page warning/error states use Bootstrap subtle variables ($warning-*, $danger-*)
- Option component error state uses $danger-bg-subtle, $danger-text-emphasis, $danger-border-subtle
- File list header uses named colors (black/white)
- Zero hardcoded hex colors remain in component SCSS files
- All 387 unit tests pass
- Visual appearance unchanged (colors should match original values)
</success_criteria>

<output>
After completion, create `.planning/phases/02-color-variable-consolidation/02-02-SUMMARY.md`
</output>
