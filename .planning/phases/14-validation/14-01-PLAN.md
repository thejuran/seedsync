---
phase: 14-validation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: true

must_haves:
  truths:
    - "ng build completes with zero compilation errors"
    - "Zero deprecation warnings reference src/app/ paths"
    - "All deprecation warnings reference node_modules/bootstrap/ paths only"
    - "All 381 Angular unit tests pass"
    - "All 14 component SCSS files use @use '../../common/common' as *"
    - "Zero component files use @import"
    - "_common.scss uses @forward and @use (not @import except as documented hybrid)"
    - "_bootstrap-overrides.scss uses @use (not @import)"
    - "styles.scss uses @use for bootstrap-overrides and common"
    - "styles.scss uses @import for all Bootstrap files"
    - "bootstrap-variables remains @import in styles.scss (part of Bootstrap sequence)"
    - "Only 3 SCSS files were modified across v1.4 (styles.scss, _common.scss, _bootstrap-overrides.scss)"
  artifacts: []
  key_links: []
---

<objective>
Validate the complete v1.4 Sass @use migration by running comprehensive checks across all requirements. No code changes — verification only.

Purpose: Confirm REQ-01 through REQ-09 are fully satisfied before closing the v1.4 milestone. This covers build verification, deprecation warning audit, unit tests, component file integrity, and documentation validation.
Output: Validation report confirming all requirements met, ready for milestone completion.
</objective>

<execution_context>
@/Users/julianamacbook/.claude/get-shit-done/workflows/execute-plan.md
@/Users/julianamacbook/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/REQUIREMENTS.md
@.planning/milestones/v1.4-ROADMAP.md
@.planning/phases/12-shared-module-migration/12-01-SUMMARY.md
@.planning/phases/13-styles-entry-point/13-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build verification and deprecation warning audit</name>
  <files></files>
  <action>
Run build and categorize all deprecation warnings:

1. Build the project:
   ```bash
   cd /Users/julianamacbook/seedsync/src/angular && npx ng build --configuration development 2>&1 | tee /tmp/build-output.txt
   ```
   Expected: Build succeeds with zero errors.

2. Count application deprecation warnings:
   ```bash
   grep -i "deprecat" /tmp/build-output.txt | grep "src/app" | wc -l
   ```
   Expected: 0 (zero application warnings).

3. Verify all remaining warnings are from Bootstrap:
   ```bash
   grep -i "deprecat" /tmp/build-output.txt | grep -v "node_modules/bootstrap" | grep -v "Run in verbose" | grep -v "More info" | head -20
   ```
   Expected: No output (all deprecation warnings should reference Bootstrap paths).

4. Check for build errors:
   ```bash
   grep -i "error" /tmp/build-output.txt | head -10
   ```
   Expected: No output.
  </action>
  <verify>
Build succeeds with zero errors. Zero application deprecation warnings. All warnings reference node_modules/bootstrap/ only.
  </verify>
  <done>
Build verification complete. Zero errors, zero application deprecation warnings. REQ-04 satisfied.
  </done>
</task>

<task type="auto">
  <name>Task 2: Unit test verification</name>
  <files></files>
  <action>
Run the full Angular unit test suite:

```bash
cd /Users/julianamacbook/seedsync/src/angular && npx ng test --watch=false --browsers=ChromeHeadless 2>&1 | tail -10
```

Expected: All 381 tests pass with zero failures.
  </action>
  <verify>
All 381 unit tests pass. Zero failures, zero errors.
  </verify>
  <done>
All 381 unit tests pass. REQ-05 satisfied.
  </done>
</task>

<task type="auto">
  <name>Task 3: Component file integrity check</name>
  <files></files>
  <action>
Verify all component SCSS files use modern @use syntax and none use @import:

1. List all component files using @use for common:
   ```bash
   grep -rl "@use.*common/common" /Users/julianamacbook/seedsync/src/angular/src/app/pages/ | sort
   ```
   Expected: 14 component files.

2. Check no component files use @import:
   ```bash
   grep -rl "@import" /Users/julianamacbook/seedsync/src/angular/src/app/pages/ | sort
   ```
   Expected: No output (zero component files use @import).

3. Verify _common.scss uses @forward (REQ-01):
   ```bash
   grep "@forward" /Users/julianamacbook/seedsync/src/angular/src/app/common/_common.scss
   ```
   Expected: `@forward 'bootstrap-variables';`

4. Verify _bootstrap-overrides.scss uses @use (REQ-02):
   ```bash
   grep "@use" /Users/julianamacbook/seedsync/src/angular/src/app/common/_bootstrap-overrides.scss
   ```
   Expected: `@use 'bootstrap-variables' as bv;` and `@use 'bootstrap/scss/functions' as fn;`

5. Verify styles.scss hybrid architecture (REQ-03):
   ```bash
   grep "@use" /Users/julianamacbook/seedsync/src/angular/src/styles.scss
   grep "@import.*bootstrap-variables" /Users/julianamacbook/seedsync/src/angular/src/styles.scss
   ```
   Expected: @use for bootstrap-overrides and common; @import for bootstrap-variables.

6. Verify no @import for app modules in styles.scss:
   ```bash
   grep "@import.*app/common/bootstrap-overrides\|@import.*app/common/common" /Users/julianamacbook/seedsync/src/angular/src/styles.scss
   ```
   Expected: No output.

7. Count section headers in styles.scss (REQ-08):
   ```bash
   grep -c "SECTION" /Users/julianamacbook/seedsync/src/angular/src/styles.scss
   ```
   Expected: 4.

8. Verify only the expected files were modified in v1.4:
   ```bash
   cd /Users/julianamacbook/seedsync && git log --oneline --name-only | grep -E "\.scss$" | sort -u | head -20
   ```
   Check that only styles.scss, _common.scss, and _bootstrap-overrides.scss were modified.
  </action>
  <verify>
14 component files use @use. Zero component files use @import. _common.scss uses @forward. _bootstrap-overrides.scss uses @use. styles.scss hybrid architecture correct. 4 section headers document approach.
  </verify>
  <done>
Component integrity verified. All 14 components use @use, zero use @import. REQ-01, REQ-02, REQ-03, REQ-06, REQ-07, REQ-08 satisfied.
  </done>
</task>

<task type="auto">
  <name>Task 4: Final requirements coverage report</name>
  <files></files>
  <action>
Create the validation summary by checking each requirement:

| Requirement | Description | Status | Evidence |
|-------------|-------------|--------|----------|
| REQ-01 | _common.scss @forward aggregation | Check @forward in _common.scss |
| REQ-02 | _bootstrap-overrides.scss @use with namespaces | Check @use bv. prefix |
| REQ-03 | styles.scss @use for app modules | Check @use lines |
| REQ-04 | Zero app deprecation warnings | Check build output |
| REQ-05 | All 381 unit tests pass | Check test results |
| REQ-06 | Zero visual regressions | Verify CSS output unchanged |
| REQ-07 | All component files work unchanged | Check 14 components |
| REQ-08 | Document hybrid approach | Check section comments |
| REQ-09 | Validate sass-migrator compatibility | Dry-run check |

For REQ-09 (sass-migrator), run a dry-run if sass-migrator is available:
```bash
npx sass-migrator module --dry-run --migrate-deps /Users/julianamacbook/seedsync/src/angular/src/styles.scss 2>&1 | head -20
```
If sass-migrator is not installed, note it as "skipped — manual migration completed and verified."
  </action>
  <verify>
All 9 requirements have evidence of satisfaction.
  </verify>
  <done>
Full requirements coverage report generated. All REQ-01 through REQ-09 satisfied or documented.
  </done>
</task>

</tasks>

<verification>
1. `ng build --configuration development` completes with zero errors
2. Zero deprecation warnings reference `src/app/` paths
3. All deprecation warnings reference `node_modules/bootstrap/` only
4. All 381 unit tests pass
5. 14 component files use `@use '../../common/common' as *`
6. Zero component files use `@import`
7. `_common.scss` uses `@forward 'bootstrap-variables'`
8. `_bootstrap-overrides.scss` uses `@use 'bootstrap-variables' as bv`
9. `styles.scss` uses `@use` for app modules, `@import` for Bootstrap
10. 4 section comment headers document hybrid approach
</verification>

<success_criteria>
- REQ-01: _common.scss uses @forward — VERIFIED
- REQ-02: _bootstrap-overrides.scss uses @use with namespaces — VERIFIED
- REQ-03: styles.scss uses @use for application modules — VERIFIED
- REQ-04: Zero application deprecation warnings — VERIFIED
- REQ-05: All 381 unit tests pass — VERIFIED
- REQ-06: Zero visual regressions (no SCSS file content changes) — VERIFIED
- REQ-07: All 14 component files work unchanged — VERIFIED
- REQ-08: Hybrid approach documented — VERIFIED
- REQ-09: sass-migrator compatibility — VERIFIED or DOCUMENTED
</success_criteria>

<output>
After completion, create `.planning/phases/14-validation/14-01-SUMMARY.md`
</output>
