---
phase: 07-form-input-standardization
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/angular/src/app/common/_bootstrap-variables.scss
  - src/angular/src/app/common/_bootstrap-overrides.scss
  - src/angular/src/app/pages/settings/option.component.scss
autonomous: true

must_haves:
  truths:
    - "User sees teal focus ring when clicking into any text input"
    - "User sees teal focus ring when tabbing to any text input"
    - "User sees teal checkbox background when checkbox is checked"
    - "User sees consistent input border and background across Settings, AutoQueue, and Files pages"
    - "Disabled inputs are visually distinct (grayed out)"
  artifacts:
    - path: "src/angular/src/app/common/_bootstrap-variables.scss"
      provides: "Form focus and checkbox color variables"
      contains: "$component-active-bg: $secondary"
    - path: "src/angular/src/app/common/_bootstrap-overrides.scss"
      provides: "Dark theme form styling overrides"
      contains: "form-control"
    - path: "src/angular/src/app/pages/settings/option.component.scss"
      provides: "Option component form styling"
  key_links:
    - from: "_bootstrap-variables.scss"
      to: "Bootstrap form components"
      via: "SCSS variable cascade"
      pattern: "component-active-bg.*secondary"
    - from: "_bootstrap-overrides.scss"
      to: "form-control, form-check-input"
      via: "CSS variable overrides"
      pattern: "--bs-"
---

<objective>
Standardize all form inputs (text, password, checkbox) to use consistent Bootstrap styling with teal focus states.

Purpose: Ensure visual consistency across Settings, AutoQueue, and Files pages with the app's teal accent color.
Output: Form inputs with teal focus rings, consistent borders/backgrounds, and teal-checked checkboxes.
</objective>

<execution_context>
@/Users/julianamacbook/.claude/get-shit-done/workflows/execute-plan.md
@/Users/julianamacbook/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-form-input-standardization/07-CONTEXT.md
@.planning/phases/07-form-input-standardization/07-RESEARCH.md
@.planning/phases/06-dropdown-migration/06-01-SUMMARY.md

# Key source files
@src/angular/src/app/common/_bootstrap-variables.scss
@src/angular/src/app/common/_bootstrap-overrides.scss
@src/angular/src/app/pages/settings/option.component.scss
@src/angular/src/app/pages/settings/option.component.html
@src/angular/src/app/pages/autoqueue/autoqueue-page.component.html
@src/angular/src/app/pages/files/file-options.component.html
@src/angular/src/styles.scss
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Bootstrap form variable overrides for teal focus states</name>
  <files>src/angular/src/app/common/_bootstrap-variables.scss</files>
  <action>
Add form-related SCSS variable overrides to _bootstrap-variables.scss AFTER the existing color variables section. These variables must be set BEFORE Bootstrap's variables are imported (the file is already correctly positioned in styles.scss import order).

Add the following sections:

1. **Component Active States** - Add after Application-specific color variables section:
```scss
// ============================================================================
// Component Active States (forms, checkboxes, buttons)
// ============================================================================
// Override to use teal for active/focused/checked states
$component-active-bg: $secondary;          // Teal for active/focused/checked
$component-active-color: $white;           // White text/icons on teal
```

2. **Form Input Styling** - Add a new section:
```scss
// ============================================================================
// Form Input Styling
// ============================================================================
// Border styling (visible but not prominent)
$input-border-color: #495057;              // Medium gray for dark theme visibility

// Focus states (uses component-active via cascade)
// These inherit from $component-active-bg automatically:
// - $input-focus-border-color: tint-color($component-active-bg, 50%)
// - $input-btn-focus-color: rgba($component-active-bg, 0.25)

// Focus ring settings (outer glow effect per user decision)
$focus-ring-width: 0.25rem;                // 4px standard prominence
$focus-ring-opacity: 0.25;                 // 25% alpha for subtle glow
$input-btn-focus-width: $focus-ring-width;
```

3. **Checkbox Styling** - Add a new section:
```scss
// ============================================================================
// Checkbox Styling
// ============================================================================
// Checked state (inherits from component-active automatically)
// - $form-check-input-checked-bg-color: $component-active-bg
// - $form-check-input-checked-border-color: $component-active-bg

// Disabled state
$form-check-input-disabled-opacity: 0.5;   // 50% opacity for disabled checkboxes
```

DO NOT change existing color variables - only ADD new form-related variables.
  </action>
  <verify>
Run `npm run build --prefix /Users/julianamacbook/seedsync/src/angular` to verify SCSS compiles without errors.
  </verify>
  <done>
_bootstrap-variables.scss contains $component-active-bg: $secondary and form-related focus ring variables. Build succeeds.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add dark theme form overrides for consistent appearance</name>
  <files>src/angular/src/app/common/_bootstrap-overrides.scss</files>
  <action>
Add form input styling overrides to _bootstrap-overrides.scss AFTER the existing dropdown styling section. These are post-compilation overrides for dark theme consistency.

Add the following section after the dropdown hover transition rule:

```scss
// ============================================================================
// Dark Theme Form Styling
// ============================================================================
// Ensures form inputs are visible and styled appropriately for dark backgrounds

.form-control {
  // Dark theme appearance
  background-color: #212529;               // Slightly lighter than page background
  color: #dee2e6;                          // Light text for readability
  border-color: #495057;                   // Visible border definition

  // Placeholder text (appropriate contrast for dark theme)
  &::placeholder {
    color: rgba(255, 255, 255, 0.5);       // 50% white for sufficient contrast
  }

  // Focus state (teal ring from variable cascade)
  &:focus {
    background-color: #212529;             // Maintain dark background on focus
    color: #dee2e6;                        // Maintain light text
    // border-color and box-shadow are set by Bootstrap via $component-active-bg
  }

  // Disabled state
  &:disabled {
    background-color: #1a1a1a;             // Darker than normal
    opacity: 0.65;                         // Reduced opacity
  }
}

// Checkbox dark theme styling
.form-check-input {
  background-color: #212529;               // Dark background for unchecked
  border-color: #495057;                   // Visible border

  // Checked state uses teal from $component-active-bg automatically

  // Focus state (teal ring)
  &:focus {
    border-color: tint-color($secondary, 50%);  // Light teal border
    // box-shadow is set by Bootstrap via focus ring variables
  }

  // Disabled state
  &:disabled {
    opacity: 0.5;                          // Matches $form-check-input-disabled-opacity
  }
}
```

Note: The `tint-color` function is available because _bootstrap-overrides.scss imports _bootstrap-variables.scss which is imported after Bootstrap's functions.
  </action>
  <verify>
Run `npm run build --prefix /Users/julianamacbook/seedsync/src/angular` to verify SCSS compiles without errors.
  </verify>
  <done>
_bootstrap-overrides.scss contains .form-control and .form-check-input rules with dark theme styling. Build succeeds.
  </done>
</task>

<task type="auto">
  <name>Task 3: Clean up option.component.scss and verify all form pages</name>
  <files>src/angular/src/app/pages/settings/option.component.scss</files>
  <action>
Review and clean up option.component.scss. The Bootstrap overrides should now handle most styling. Keep only layout-specific rules.

1. Keep these existing rules (they handle layout, not appearance):
   - `.form-group` margins
   - `.error` class (validation state)
   - `label` flexbox layout
   - `span.description` styling
   - `.form-check` flexbox layout
   - `input[type="text"]` width: 100%

2. Remove any hardcoded colors that now conflict with Bootstrap theming.

3. If the description color `darkgrey` looks bad against dark inputs, update it to use a Bootstrap-compatible color:
```scss
span.description {
    color: #9a9a9a;  // Lighter gray for better contrast on dark theme
    // ... keep other existing properties
}
```

After editing, verify styling is consistent across all three form locations:
- Settings page (option.component.html) - text inputs, password inputs, checkboxes
- AutoQueue page (autoqueue-page.component.html) - search input
- Files page (file-options.component.html) - filter search input

Run all Angular unit tests to ensure no regressions:
```bash
cd /Users/julianamacbook/seedsync/src/angular && npm test -- --watch=false --browsers=ChromeHeadless
```
  </action>
  <verify>
1. `npm run build --prefix /Users/julianamacbook/seedsync/src/angular` succeeds
2. `npm test --prefix /Users/julianamacbook/seedsync/src/angular -- --watch=false --browsers=ChromeHeadless` passes all 387 tests
  </verify>
  <done>
option.component.scss cleaned up. All Angular unit tests pass. Build succeeds.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. **Build verification:** `npm run build` completes without errors
2. **Test verification:** All 387 Angular unit tests pass
3. **Visual verification (manual or screenshot):**
   - Text input focus shows teal outer glow
   - Checkbox checked state shows teal background with white checkmark
   - Input borders are visible but subtle (#495057)
   - Input backgrounds are slightly lighter than page (#212529)
   - Disabled inputs are grayed out (reduced opacity)
   - Placeholder text is readable (50% white)
</verification>

<success_criteria>
1. User sees teal focus ring when clicking into text input on Settings page
2. User sees teal focus ring when tabbing through form controls
3. User sees teal checkbox when checkbox is checked
4. User sees consistent input appearance on Settings, AutoQueue, and Files pages
5. Disabled form controls are visually distinct
6. All 387 Angular unit tests pass
7. No SCSS compilation errors
</success_criteria>

<output>
After completion, create `.planning/phases/07-form-input-standardization/07-01-SUMMARY.md`
</output>
