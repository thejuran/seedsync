---
phase: 03-selection-color-unification
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/angular/src/app/pages/files/selection-banner.component.scss
  - src/angular/src/app/pages/files/file.component.scss
autonomous: true

must_haves:
  truths:
    - "Selection banner displays with teal (secondary) background, not blue (primary)"
    - "Selection banner text has good contrast on teal background"
    - "Visual hierarchy clear: banner most prominent, bulk actions bar medium, selected rows lightest"
    - "Hover on unselected file rows shows smooth 100ms fade transition"
    - "Selected rows have no hover effect change"
  artifacts:
    - path: "src/angular/src/app/pages/files/selection-banner.component.scss"
      provides: "Selection banner styling with secondary color palette"
      contains: "$secondary"
    - path: "src/angular/src/app/pages/files/file.component.scss"
      provides: "File row hover transition"
      contains: "transition"
  key_links:
    - from: "selection-banner.component.scss"
      to: "_common.scss"
      via: "@use import"
      pattern: "$secondary-"
---

<objective>
Unify selection highlighting across file list components using the teal (secondary) color palette.

Purpose: Create visual cohesion between selection banner, bulk actions bar, and selected file rows. Currently the selection banner uses blue (primary) colors while bulk actions bar and selected rows use teal (secondary) — this inconsistency breaks the selection paradigm.

Output: Selection banner migrated to secondary colors, hover transitions added for file rows. All selection-related UI will use consistent teal highlighting with graduated intensity (darkest for banner, medium for bar, lightest for rows).
</objective>

<execution_context>
@/Users/julianamacbook/.claude/get-shit-done/workflows/execute-plan.md
@/Users/julianamacbook/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-selection-color-unification/03-CONTEXT.md
@.planning/phases/03-selection-color-unification/03-RESEARCH.md
@src/angular/src/app/pages/files/selection-banner.component.scss
@src/angular/src/app/pages/files/file.component.scss
@src/angular/src/app/pages/files/bulk-actions-bar.component.scss
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate selection banner from primary to secondary colors</name>
  <files>src/angular/src/app/pages/files/selection-banner.component.scss</files>
  <action>
Replace all primary color variables with secondary equivalents to create teal selection banner:

1. Change `.selection-banner` background and border:
   - `$primary-light-color` → `$secondary-color` (use base teal for "darkest" hierarchy per context)
   - `$primary-color` → `$secondary-dark-color`

2. Change `.selection-count` text color:
   - `$primary-dark-color` → `$secondary-darker-color`

3. Change `.select-all-link` colors:
   - `$primary-color` → `$secondary-dark-color`
   - `$primary-dark-color` → `$secondary-darker-color`

The graduated intensity hierarchy per context decisions:
- Banner: darkest (uses $secondary-color background = #79DFB6)
- Bulk actions bar: medium (already uses $secondary-light-color = #C5F0DE)
- Selected rows: lightest (already uses rgba($secondary-color, 0.3))

NOTE: Bulk actions bar already uses correct colors - no changes needed there.
  </action>
  <verify>
1. Run: `grep -c "\$primary" src/angular/src/app/pages/files/selection-banner.component.scss`
   - Expected: 0 (no primary color references remaining)
2. Run: `grep -c "\$secondary" src/angular/src/app/pages/files/selection-banner.component.scss`
   - Expected: 5+ (secondary variables now used)
3. Run: `cd /Users/julianamacbook/seedsync && make run-tests-angular`
   - Expected: Tests pass (compilation successful)
  </verify>
  <done>Selection banner uses secondary (teal) color palette exclusively. Zero $primary references remain in selection-banner.component.scss.</done>
</task>

<task type="auto">
  <name>Task 2: Add hover transition to file rows</name>
  <files>src/angular/src/app/pages/files/file.component.scss</files>
  <action>
Add 100ms fade transition to the hover state for unselected file rows (per context decisions: "Hover states: Quick 100ms fade transition - subtle polish for hover interactions").

Find the existing hover rule in the media query section (around line 261):
```scss
.file:not(.selected):not(.bulk-selected):hover {
    background-color: $secondary-light-color;
}
```

Add transition property:
```scss
.file:not(.selected):not(.bulk-selected):hover {
    background-color: $secondary-light-color;
    transition: background-color 0.1s ease;
}
```

IMPORTANT per context decisions:
- Selected rows should NOT have hover changes (already correct - no hover rule for .bulk-selected)
- Selection state changes should be instant (no transition on .bulk-selected - already correct)
- Only hover interaction gets the transition
  </action>
  <verify>
1. Run: `grep "transition" src/angular/src/app/pages/files/file.component.scss`
   - Expected: Shows transition line in hover rule AND existing transition: none in checkbox
2. Run: `cd /Users/julianamacbook/seedsync && make run-tests-angular`
   - Expected: Tests pass (compilation successful)
  </verify>
  <done>File row hover has 100ms fade transition. Unselected rows show smooth color change on hover.</done>
</task>

</tasks>

<verification>
After both tasks complete:

1. **Build verification:**
   - `cd /Users/julianamacbook/seedsync && make run-tests-angular` passes
   - No SCSS compilation errors

2. **Code verification:**
   - `grep "\$primary" src/angular/src/app/pages/files/selection-banner.component.scss` returns nothing
   - `grep "\$secondary" src/angular/src/app/pages/files/selection-banner.component.scss` returns 5+ matches
   - `grep "transition.*0.1s" src/angular/src/app/pages/files/file.component.scss` returns 1 match

3. **Requirements coverage (from REQUIREMENTS.md):**
   - SELECT-01: Selection banner uses secondary (teal) colors instead of primary (blue) ✓
   - SELECT-02: Bulk actions bar uses same selection color scheme as banner ✓ (already correct)
   - SELECT-03: File row `.selected` and `.bulk-selected` classes use consistent highlighting ✓ (already correct)
   - SELECT-04: Selection-specific variables defined if needed ✓ (using existing secondary variables)
   - SELECT-05: All selection states visually verified ✓ (visual checkpoint in later phase or via browser)
</verification>

<success_criteria>
1. Zero $primary color references in selection-banner.component.scss
2. Selection banner uses $secondary-color (background), $secondary-dark-color (border), $secondary-darker-color (text)
3. File row hover has 100ms transition for background-color
4. Angular unit tests pass
5. All selection UI components (banner, bar, rows) use teal color family
</success_criteria>

<output>
After completion, create `.planning/phases/03-selection-color-unification/03-01-SUMMARY.md`
</output>
